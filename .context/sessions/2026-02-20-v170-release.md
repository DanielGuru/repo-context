# v1.7.0 Release Session — 2026-02-20

## What happened
Reviewed Codex branch `codex/review-hardening-2026-02-19` (5 commits, 19 files). Found mix of good features and regressions. Cherry-picked the good parts manually onto main instead of merging.

## Accepted from Codex branch
- `repomemory doctor` command — diagnostics, JSON output, support bundles
- Non-interactive setup flags (`--yes`, `--defaults`, `--no-prompt`) for `go` and `wizard`
- Dashboard optimization — pagination, ETag, metadata-only polling
- MCP contract tests (real client/server via `@modelcontextprotocol/sdk/client`)
- CLI E2E smoke tests
- Release consistency scripts (`sync:versions`, `check:release`)
- `server.json` version sync (was stuck at 1.3.0)

## Rejected from Codex branch (regressions)
- **Version downgrade** — Codex set version to 1.5.2 (branched from old state). Current was 1.6.1.
- **Analysis prompt gutted** — Removed v1.6.1's quality-over-quantity prompt, temporal regression rules, framework hints, evidence-based requirements. Major regression.
- **Framework detection removed** — Stripped Styled Components, Emotion, MUI, Chakra, Radix, shadcn/ui from repo-scanner.ts and CSS config patterns from config.ts.
- **Cursor MCP integration removed** — setupCursor no longer writes `~/.cursor/mcp.json`. Undoes v1.6.0 work.
- **README over-condensed** — Removed Contributing, License, provider details, feature docs.
- **IMPLEMENTATION-SUMMARY.md** — Meta-document, not appropriate for repo.

## Additional improvements made
- Added Prettier (`prettier@3.8.1`) with `.prettierrc` and formatted entire codebase
- Updated CI workflow with lint/typecheck/E2E steps, dropped Node 18 from matrix
- Updated release workflow with lint/typecheck/E2E gates
- Rewrote README — tighter, added demo video, integration depth table, v1.7.0 features
- Fixed E2E test that assumed "no results" for search (LIKE fallback always returns something from global context)
- Bumped version to 1.7.0

## Key decisions
- Codex branch not merged — cherry-picked manually to avoid regressions
- Version 1.7.0 (minor bump for new features)
- Prettier config: 120 width, double quotes, trailing commas, consistent with existing style
- `lint` script = typecheck + format:check (no ESLint for now)
